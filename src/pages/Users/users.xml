<div>
  <UserModal userId="state.modalUserId" onClose="() => this.state.modalUserId = undefined" />
  <div class="container mx-auto px-10 lg:px-0">
    <div class="py-10">
      <h3 class="text-slate-600 font-semibold text-2xl">Compassion</h3>
      <h1 class="text-slate-700 font-semibold text-4xl">Registered Translators</h1>
    </div>
    <div class="relative bg-white rounded-xl shadow-md flex-1 overflow-hidden">
      <TableHeader selected="state.selected.length" name="state.selected.length === 1 ? 'User' : 'Users'">
        <Button size="'sm'" color="'compassion'" icon="'envelope'" onClick="() => state.sendMail = true" disabled="state.selected.length === 0">Send E-mail</Button> 
      </TableHeader>
      <Table total="state.total"
        key="'users-page-table'"
        columns="state.columns"
        data="state.users"
        keyCol="'username'"
        onSelect="(selection) => this.state.selected = selection"
        onRowClick="(item) => this.state.modalUserId = item.username"
        onFilterChange="(params) => this.updateData(params)"
        loading="state.loading" />
    </div>
  </div>

  <Modal active="state.sendMail" onClose="() => state.sendMail = false" title="'Send Mail'" subtitle="state.selected.length + ' Users selected'">
    <div class="p-4">
      <p class="px-3 py-2 rounded bg-sky-100 border border-solid border-blue-200 text-sm text-sky-700">
        A few <i>magic variables</i> are available while writing your e-mail: <i><b>{username}, {firstname}</b></i> and <i><b>{lastname}</b></i><br/>
        Those will be replaced by actual values when sending the e-mail.
      </p>
      
      <t t-set-slot="footer-buttons">
        <Button color="'compassion'" size="'sm'">Send</Button>
      </t>
    </div>
  </Modal>
</div>