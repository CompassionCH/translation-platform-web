<div>
  <UserModal userId="state.modalUserId" onClose="() => this.state.modalUserId = undefined" />
  <div class="container mx-auto px-10 lg:px-0">
    <div class="py-10">
      <h3 class="text-slate-600 font-semibold text-2xl">Compassion</h3>
      <h1 class="text-slate-700 font-semibold text-4xl">Registered Translators</h1>
    </div>
    <div class="flex gap-10">
      <div class="w-64">
        <div class="bg-white rounded-xl shadow overflow-hidden">
          <div class="bg-slate-100 border-b border-solid border-slate-300 px-4 py-3">
            <h4 class="font-semibold text-slate-700"><t t-esc="state.selected.length" /> Users</h4>
            <p class="text-slate-600 text-xs">Currently Selected</p>
          </div>
          <div class="p-4">
            <Button class="'w-full'" icon="'envelope'" color="'compassion'" onClick="() => state.sendMail = true" disabled="state.selected.length === 0">Send E-mail</Button>
          </div>
        </div>
      </div>
      <div class="relative bg-white rounded-xl shadow-md flex-1 overflow-hidden">
        <Table total="state.total"
          columns="state.columns"
          data="state.users"
          keyCol="'username'"
          onSelect="(selection) => this.state.selected = selection"
          onRowClick="(item) => this.state.modalUserId = item.username"
          onFilterChange="(params) => this.updateData(params)"
          loading="state.loading" />
      </div>
    </div>
  </div>

  <Modal active="state.sendMail" onClose="() => state.sendMail = false" title="'Send Mail'" subtitle="state.selected.length + ' Users selected'">
    <div class="p-4">
      <p class="px-3 py-2 rounded bg-sky-100 border border-solid border-blue-200 text-sm text-sky-700">
        A few <i>magic variables</i> are available while writing your e-mail: <i><b>{username}, {firstname}</b></i> and <i><b>{lastname}</b></i><br/>
        Those will be replaced by actual values when sending the e-mail.
      </p>
      
      <t t-set-slot="footer-buttons">
        <Button color="'compassion'" size="'sm'">Send</Button>
      </t>
    </div>
  </Modal>
</div>