<div class="relative">
  <div class="flex justify-between p-4 border-b border-solid border-slate-300">
    <div></div>
    <div>
      <input type="text" placeholder="search" class="compassion-input" />
    </div>
  </div>
  <div class="overflow-hidden">
    <table t-att-class="props.class" class="w-full text-sm">
      <thead>
        <tr>
          <td t-if="props.onSelect !== undefined" class="font-medium text-slate-800 py-3 px-2 border-b border-solid border-slate-300 bg-slate-100">
            <!--
            <input type="checkbox" t-on-change="this.toggleAll" t-att="{'checked': this.state.selectAll}" />
            -->
          </td>
          <td t-foreach="state.columns" t-as="col" t-key="col.name"
            t-esc="col.header || col.name"
            class="font-medium text-slate-800 py-3 px-2 border-b border-solid border-slate-300 bg-slate-100" />
        </tr>
      </thead>
      <tbody>
        <t t-foreach="props.data" t-as="row" t-key="row[props.keyCol]">
          <Row columns="state.columns"
            data="row"
            onClick="props.onRowClick"
            selected="state.selected.includes(row) || this.state.selectAll"
            selectable="props.onSelect !== undefined"
            last="row_last"
            onToggle="() => this.toggleItem(row)" />
        </t>
      </tbody>
    </table>
  </div>
  <div class="flex justify-between items-center border-t border-solid border-slate-300 p-4">
    <div class="text-slate-700 text-sm">
      Showing 
      <t t-esc="(filters.pageNumber * props.data.length) + 1" /> - <t t-esc="(filters.pageNumber + 1) * props.data.length" />
      of <t t-esc="props.total" /> Results
    </div>
    <div>
      <PageSelector page="filters.pageNumber" total="props.total" pageSize="filters.pageSize" onPageChange="(page) => this.filters.pageNumber = page" />
    </div>
  </div>
  <Transition duration="100"
    active="props.loading"
    enterFrom="'opacity-0'"
    enterTo="'opacity-1'"
    leaveFrom="'opacity-1'"
    leaveTo="'opacity-0'"
    enterActive="'transition-all duration-100'"
    leaveActive="'transition-all duration-100'"
    t-slot-scope="scope"
  >
    <div class="absolute top-0 left-0 w-full h-full bg-white-70 backdrop-filter backdrop-blur flex justify-center items-center" t-att-class="scope.itemClass">
      <Loader class="'text-3xl'">
        <span class="text-slate-600 font-medium text-sm pt-2">Loading Data</span>
      </Loader>
    </div>
  </Transition>
</div>